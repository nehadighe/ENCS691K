"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getTags = void 0;
const amplify_cli_core_1 = require("amplify-cli-core");
const get_project_details_1 = require("./get-project-details");
function getTags() {
    const projectDetails = get_project_details_1.getProjectDetails();
    const { projectName } = projectDetails.projectConfig;
    const { envName } = projectDetails.localEnvInfo;
    return HydrateTags(amplify_cli_core_1.stateManager.getProjectTags(), { envName, projectName });
}
exports.getTags = getTags;
function HydrateTags(tags, tagVariables) {
    const { envName, projectName } = tagVariables;
    const replace = {
        '{project-name}': projectName,
        '{project-env}': envName,
    };
    return tags.map(tag => {
        return {
            ...tag,
            Value: tag.Value.replace(/{project-name}|{project-env}/g, (matched) => replace[matched]),
        };
    });
}
//# sourceMappingURL=get-tags.js.map